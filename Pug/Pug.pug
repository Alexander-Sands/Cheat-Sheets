// Before Starting
// ================================
//- Install: Node.js
//- npm install pug
//- npm install pug-cli
// =============================================================================================
// Installation Pug
// ================================
//- pug -V
//- pug --help
// =============================================================================================
// Command Line
// ================================
//- pug src -w -P -o dist
// =============================================================================================
// Doctype Shortcuts 
// ================================
// doctype
// <!DOCTYPE html>
// =============================================================================================
doctype
html(lang="en")
    head
        //Main Meta Rulez
        meta(charset="utf-8")
        meta(name="Description" content="Pugjs Cheat Sheets")
        // IE Compatibility Meta
        meta(http-equiv="X-UA-Compatible" content="IE=edge")
        // First Mobile Meta
        meta(name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no")
        |
        |
        block pageTitle 
            title Pugjs Cheat Sheets
        |
        |
        include include/Style.pug
        link(rel="stylesheet" href="css/style.css")
        |
        |
        // Block in a Tag
        style. 
            body {backgruond-color: #FFF}
        |
        |
    body
        // =============================================================================================
        // =============================================================================================
        // =============================================================================================
        // Comments
        // ================================
        //- Start Testing Comment 1

        //  Start Testing Comment 2
            Start Testing Comment 3
            Start Testing Comment 4

        //- Testing Comment 
            Second Line Comment

        <!--[if IE 8]>
        <div class="lt-ie9"></div>
        <![endif]-->
        <!--[if gt IE 8]><!-->
        <div></div>
        <!--<![endif]-->


        //- -------------------------------- //
        //-             OUTPUT               //
        //- -------------------------------- //

        //- <!--  Start Testing Comment 2
        //- Start Testing Comment 3
        //- Start Testing Comment 4
        //-
        //- --><!--[if IE 8]>
        //- <div class="lt-ie9"></div>
        //- <![endif]-->
        //- <!--[if gt IE 8]><!-->
        //- <div></div>
        //- <!--<![endif]-->

        // =============================================================================================
        // =============================================================================================
        // =============================================================================================
        // Tags
        // Plain Text :
        // Inline in a Tag - Literal HTML - Piped Text - Whitespace Control 
        // Recommended Solutions - Recommended Solutions - Not recommended
        // =================================================================================

        //- Tags
        div 
            div 
                p Indentation
                img
        
        //- <div>
        //-     <div>
        //-         <p>Indentation</p>
        //-         <img />
        //-     </div> 
        //- </div>    

        // ---------------------------------------------------------------- // 

        div This Is Div
        div: a This Is Link
        //- Inline in a Tag - Literal HTML
        p loren ipsum <strong>Test</strong> 
        p I Love <b>PugJs</b> And <b>Sass</b>
        //- Piped Text
        p 
            //- Whitespace Control - Not recommended
            | I Love 
            b PugJs 
            | And 
            b Sass
        p I Love #[b PugJs] And #[b(class='pug') Sass]
        |    
        | This Text Belong To ?
        //- Recommended Solutions 
        |
        |
        .
            This Text Belong To ?

        //- <div>This Is Div</div>
        //- <div><a>This Is Link</a></div>
        //- <p>loren ipsum <strong>Test</strong> </p>
        //- <p>I Love <b>PugJs</b> And <b>Sass</b></p>
        //- <p>
        //-     I Love <b>PugJs </b>And <b>Sass</b></p>
        //- <p>I Love <b>PugJs</b> And <b class="pug">Sass</b></p>   
        //- This Text Belong To ?
        //-
        //- This Text Belong To ?

        // =============================================================================================
        // =============================================================================================
        // =============================================================================================
        // Attributes
        // ================================
        div(class='div-1', id="div-1" ) Hello This Is Div
        div(class='div-2' id="div-2" ) Hello This Is Div

        //- <div class="div-1" id="div-1">Hello This Is Div</div>
        //- <div class="div-2" id="div-2">Hello This Is Div</div>

        // ---------------------------------------------------------------- //

        #Alex.Alex Hello This Is Div
        div#div-3.div-3 Hello This Is Div
        p.Alex Hello This Is Div

        //- <div class="Alex" id="Alex">Hello This Is Div</div>
        //- <div class="div-3" id="div-3">Hello This Is Div</div>
        //- <p class="Alex">Hello This Is Div</p>

        // ---------------------------------------------------------------- //

        form
            input(
                class="f-c", 
                type="text", 
                name="user"
            )
            input(
                type='checkbox'
                name='agreement'
                checked
            )
            button(style="background-color: #FFF;color: #E56") send
            button(style={'background-color': '#FFF', color: '#E56'}) Reset

        //- <form>
        //-     <input class="f-c" type="text" name="user"/>
        //-     <input type="checkbox" name="agreement" checked="checked" />
        //-     <button style="background-color: #FFF;color: #E56">send</button>
        //-     <button style="background-color:#FFF;color:#E56;">Reset</button>
        //- </form>

        // ---------------------------------------------------------------- //

        input(type='checkbox' checked)
        |
        |
        input(type='checkbox' checked=true)
        |
        |
        input(type='checkbox' checked=false)
        |
        |
        input(type='checkbox' checked=true.toString())
        
        //- <input type="checkbox" checked="checked" />
        //- <input type="checkbox" checked="checked" />
        //- <input type="checkbox" />
        //- <input type="checkbox" checked="true" />

        // ---------------------------------------------------------------- //

        - var url = 'pug-test.html';
        a(href='/' + url) Link
        |
        |
        - url = 'https://example.com/'
        a(href=url) Another link

        //- <a href="/pug-test.html">Link</a>
        //- <a href="https://example.com/">Another link</a>


        - var btnType = 'info'
        - var btnSize = 'lg'
        button(type='button' class='btn btn-' + btnType + ' btn-' + btnSize)
        |
        |
        button(type='button' class=`btn btn-${btnType} btn-${btnSize}`)

        //- <button class="btn btn-info btn-lg" type="button"></button>
        //- <button class="btn btn-info btn-lg" type="button"></button>


        - var classes = ['foo', 'bar', 'baz']
        a(class=classes)
        |
        |
        a.bang(class=classes class=['bing'])
        
        //- <a class="foo bar baz"></a>
        //- <a class="bang foo bar baz bing"></a>


        - var attributes = {};
        - attributes.class = 'baz';

        div#foo(data-bar="foo")&attributes({'data-foo': 'bar'})
        div#foo(data-bar="foo")&attributes(attributes)
        
        //- <div id="foo" data-bar="foo" data-foo="bar"></div>
        //- <div class="baz" id="foo" data-bar="foo"></div>


        - var authenticated = true
        div(class=authenticated ? 'authed' : 'anon')
        
        //- <div class="authed"></div>


        - var currentUrl = '/about'
        a(class={active: currentUrl === '/'} href='/') Home
        |
        |
        a(class={active: currentUrl === '/about'} href='/about') About
        
        //- <a href="/">Home</a>
        //- <a class="active" href="/about">About</a>

        // ---------------------------------------------------------------- //

        div(escaped="<code>")
        div(unescaped!="<code>")
        
        //- <div escaped="&lt;code&gt;"></div>
        //- <div unescaped="<code>"></div>

        input(data-json=`
            {
                "very-long": "piece of ",
                "data": true
            }
        `)

        //- <input data-json="
        //-     {
        //-         &quot;very-long&quot;: &quot;piece of &quot;,
        //-         &quot;data&quot;: true
        //-     }
        //- " />

        // =============================================================================================
        // =============================================================================================
        // =============================================================================================
        // Includes
        // ================================

        // Creat foot.pug
        // ---------------------------------------------------------------- //
        // footer#footer
        //     p Copyright (c) foobar
        // ---------------------------------------------------------------- //
        // Creat article.md
        // ---------------------------------------------------------------- //
        // # article.md
        // This is an article written in markdown.
        // ---------------------------------------------------------------- //

        include includes/foot.pug

        //- footer#footer
        //-     p Copyright (c) foobar

        include:markdown-it article.md

        //- # article.md
        //- This is an article written in markdown.

        // =============================================================================================
        // =============================================================================================
        // =============================================================================================
        // Code
        // ================================

        // Unbuffered Code
        // ----------------------------------------------
        // For Loop -------------------------------------
        ul
            - for (var x = 0; x < 3; x++)
                li item #{x}
        
        //- <ul>
        //-     <li>item 0</li>
        //-     <li>item 1</li>
        //-     <li>item 2</li>
        //- </ul>

        // ---------------------------------------------------------------- //
        // Unbuffered Code
        // ----------------------------------------------
        // Iteration ------------------------------------
        // While Loop -----------------------------------
        - var z = 0
        ul 
            while z < 5
                li= z++

        //- <ul> 
        //-     <li>0</li>
        //-     <li>1</li>
        //-     <li>2</li>
        //-     <li>3</li>
        //-     <li>4</li>
        //- </ul>


        // ---------------------------------------------------------------- //
        // Unbuffered Code
        // ----------------------------------------------
        // Iteration ------------------------------------
        // Each Loop ------------------------------------
        -
            var list = ["Uno", "Dos", "Tres", "Cuatro", "Cinco", "Seis"]
        each item in list
        li= item

        //- <li>Uno</li>
        //- <li>Dos</li>
        //- <li>Tres</li>
        //- <li>Cuatro</li>
        //- <li>Cinco</li>
        //- <li>Seis</li>


        - var myArray = ['HTML', 'CSS', 'PHP', 'MySQL', 'JavaScript']
        each val, index in myArray
            div= index + ' : ' + val
        else
            div Theres No Value   

        //- <div>0 : HTML</div>
        //- <div>1 : CSS</div>
        //- <div>2 : PHP</div>
        //- <div>3 : MySQL</div>
        //- <div>4 : JavaScript</div>


        - var values = [];
        ul
            each val in values.length ? values : ['There are no values']
                li= val

        //- <ul>
        //-     <li>There are no values</li>
        //- </ul>


        - var values = [];
        ul
            each val in values
                li= val
            else
                li There are no values

        //- <ul>
        //-     <li>There are no values</li>
        //- </ul>
        
        // ---------------------------------------------------------------- //

        // Buffered Code
        // ----------------------------------------------
        // String Interpolation, Escaped ----------------
        p
            = 'This code is <escaped>!'
        p= 'This code is' + ' <escaped>!'
        
        //- <p>This code is &lt;escaped&gt;!</p>
        //- <p>This code is &lt;escaped&gt;!</p>


        // Unescaped Buffered Code
        // ----------------------------------------------
        // String Interpolation, Unescaped --------------
        p
            != 'This code is <strong>not</strong> escaped!'
        p!= 'This code is' + ' <strong>not</strong> escaped!'

        //- <p>This code is <strong>not</strong> escaped!</p>
        //- <p>This code is <strong>not</strong> escaped!</p>


        -
            var myName = "Alexander"
            var mybold = "<b>Bold</b>"
        ul
            li Name: #{myName}
            li Name: #{myName.toUpperCase()}

            li Bold: #{mybold}
            li Bold: !{mybold}
            
            li Char: #{'}'}!

            li Var: \#{myName}
            li Var: #{'#{myName}'}

        //- <ul>
        //-     <li>Name: Alexander</li>
        //-     <li>Name: ALEXANDER</li>
        //-     <li>Bold: &lt;b&gt;Bold&lt;/b&gt;</li>
        //-     <li>Bold: <b>Bold</b></li>
        //-     <li>Char: }!</li>
        //-     <li>Var: #{myName}</li>
        //-     <li>Var: #{myName}</li>
        //- </ul>

        // =============================================================================================
        // =============================================================================================
        // =============================================================================================
        // Case
        // ================================

        - var friends = 10
        case friends
            when 0
                p you have no friends
            when 1
                p you have a friend
            default
                p you have #{friends} friends
        
        //- <p>you have 10 friends</p>


        - var friends = 0
        case friends
            when 0
            when 1
                p you have very few friends
            default
                p you have #{friends} friends

        //- <p>you have very few friends</p>


        - var friends = 0
        case friends
            when 0
            - break
            when 1
            p you have very few friends
            default
            p you have #{friends1} friends

        //- 


        - var friends = 1
        case friends
            when 0: p you have no friends
            when 1: p you have a friend
            default: p you have #{friends} friends

        //- <p>you have a friend</p>

        // =============================================================================================
        // =============================================================================================
        // =============================================================================================
        // Conditionals
        // ================================

        - var user = {description: 'foo bar baz'}
        - var authorised = false
        #user
            if user.description
                h2.green Description
                p.description= user.description
            else if authorised
                h2.blue Description
                p.description.
                    User has no description,
                    why not add one...
            else
                h2.red Description
                p.description User has no description

        //- <div id="user">
        //-     <h2 class="green">Description</h2>
        //-     <p class="description">foo bar baz</p>
        //- </div>


        unless user.isAnonymous
            p You're logged in as #{user.name}

        if !user.isAnonymous
            p You're logged in as #{user.name}

        //- <p>You're logged in as </p>
        //- <p>You're logged in as </p>

        // =============================================================================================
        // =============================================================================================
        // =============================================================================================
        // Mixins
        // ================================
        
        // Declaration
        mixin list
            ul
                li foo
                li bar
                li baz
        // Use
        +list
        +list

        //- <ul>
        //-     <li>foo</li>
        //-     <li>bar</li>
        //-     <li>baz</li>
        //- </ul>
        //- <ul>
        //-     <li>foo</li>
        //-     <li>bar</li>
        //-     <li>baz</li>
        //- </ul>


        mixin pet(name)
            li.pet= name
        ul
            +pet('cat')
            +pet('dog')
            +pet('pig')
        
        //- <ul>
        //-     <li class="pet">cat</li>
        //-     <li class="pet">dog</li>
        //-     <li class="pet">pig</li>
        //- </ul>

        // ---------------------------------------------------------------- //
        // Mixin Blocks -------------------------------------

        mixin article(title)
            .article
                .article-wrapper
                    h1= title
                    if block
                        block
                    else
                        p No content provided

        +article('Hello world')
        +article('Hello world')
            p This is my
            p Amazing article

        
        //- <div class="article">
        //-     <div class="article-wrapper">
        //-         <h1>Hello world</h1>
        //-         <p>No content provided</p>
        //-     </div>
        //- </div>
        //- <div class="article">
        //-     <div class="article-wrapper">
        //-         <h1>Hello world</h1>
        //-         <p>This is my</p>
        //-         <p>Amazing article</p>
        //-     </div>
        //- </div>

        // ---------------------------------------------------------------- //
        // Mixin Attributes -------------------------------------

        mixin link(href, name)
            //- attributes == {class: "btn"}
            a(class!=attributes.class href=href)= name

        +link('/foo', 'foo')(class="btn")

        //- <a class="btn" href="/foo">foo</a>


        mixin link(href, name)
            a(href=href)&attributes(attributes)= name

        +link('/foo', 'foo')(class="btn")

        //- <a class="btn" href="/foo">foo</a>

        // ---------------------------------------------------------------- //
        // Default Argument's Values -------------------------------------

        //- Declaration
        mixin article(title='Default Title')
            .article
                .article-wrapper
                    h1= title

        //- Use
        +article()
        +article('Hello world')

        //- <div class="article">
        //-     <div class="article-wrapper">
        //-         <h1>Default Title</h1>
        //-     </div>
        //- </div>
        //- <div class="article">
        //-     <div class="article-wrapper">
        //-         <h1>Hello world</h1>
        //-     </div>
        //- </div>

        // ---------------------------------------------------------------- //
        // Rest Arguments -------------------------------------

        mixin list(id, ...items)
            ul(id=id)
                each item in items
                    li= item

        +list('my-list', 1, 2, 3, 4)

        //- <ul id="my-list">
        //-     <li>1</li>
        //-     <li>2</li>
        //-     <li>3</li>
        //-     <li>4</li>
        //- </ul>

        // =============================================================================================
        // =============================================================================================
        // =============================================================================================
        // Template Inheritance
        // ================================

        // Creat layout.pug [1]
        // ---------------------------------------------------------------- //
        // html
        //     head
        //         title My Site - #{title}
        //         block scripts
        //             script(src='/jquery.js')
        //     body
        //         block content
        //         block foot
        //             #footer
        //                 p some footer content
        // ---------------------------------------------------------------- //

        // Creat pet.pug [1]
        // ---------------------------------------------------------------- //
        // p= petName
        // ---------------------------------------------------------------- //

        // Creat page-a.pug [1.1]
        // ---------------------------------------------------------------- //
        // extends layout.pug
        //
        // block scripts
        //     script(src='/jquery.js')
        //     script(src='/pets.js')
        //
        //- block content
        //-     h1= title
        //-     - var pets = ['cat', 'dog']
        //-     each petName in pets
        //-         include pet.pug
        // ---------------------------------------------------------------- //
        
        // Creat sub-layout.pug [1.2]
        // ---------------------------------------------------------------- //
        // extends layout.pug
        //
        // block content
        //     .sidebar
        //         block sidebar
        //         p nothing
        //     .primary
        //         block primary
        //         p nothing
        // ---------------------------------------------------------------- //

        // Creat page-b.pug [1.2.1]
        // ---------------------------------------------------------------- //
        // extends sub-layout.pug
        //
        // block content
        //     .sidebar
        //         block sidebar
        //         p nothing
        //     .primary
        //         block primary
        //         p nothing
        // ---------------------------------------------------------------- //


        // ---------------------------------------------------------------- //
        // Block append / prepend -------------------------------------


        // Creat page.pug [1.3]
        // ---------------------------------------------------------------- //
        // extends layout
        //
        // block append head
        //     script(src='/vendor/three.js')
        //     script(src='/game.js')
        // // ---- OR -----
        // append head
        //     script(src='/vendor/three.js')
        //     script(src='/game.js')
        // // ----------------------- OR -----------------------
        // block prepend head
        //     script(src='/vendor/three.js')
        //     script(src='/game.js')
        // // ---- OR -----
        // prepend head
        //     script(src='/vendor/three.js')
        //     script(src='/game.js')
        // ---------------------------------------------------------------- //

        // =============================================================================================
        // =============================================================================================
        // =============================================================================================
        |
        |
        include include/script.pug
        script(src="js/pug.js")
        // Block in a Tag
        script.